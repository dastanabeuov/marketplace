<% colors = %w[primary secondary success danger warning info light dark] %>
<% index = Product.all.index(product) || 0 %>
<% color_class = colors[index % colors.length] %>

<li id="cart_item_<%= product.id %>" class="list-group-item list-group-item-<%= color_class %> d-flex justify-content-between align-items-center">
  <div><%= product.name %></div>
  <div class="d-flex align-items-center gap-2">
    <%= form_with url: update_quantity_cart_path, method: :patch, data: { turbo_stream: true }, class: "d-flex align-items-center gap-2", local: false do %>
      <%= hidden_field_tag :product_id, product.id %>
      <%= number_field_tag :quantity, quantity, min: 1,
          class: "form-control form-control-sm",
          style: "width: 70px;",
          onchange: "this.form.requestSubmit()" %>
    <% end %>

    <%= link_to I18n.t('destroy'), remove_item_cart_path(product_id: product.id),
        data: { turbo_method: :delete, turbo_stream: true },
        class: "btn btn-danger btn-sm" %>
  </div>
</li>
